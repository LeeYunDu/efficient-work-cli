# szzt upload

该指令实现将静态资源文件批量上传至文件系统的指定ID文件夹中。

1. 该脚本会扫描项目文件路径/public/static/images下的文件夹。
2. 用户以勾选的交互形式选择需要上传的文件夹
3. 再与输入的文件系统ID中的文件列表进行文件名称的对比
4. 通过对比结果区分出已上传文件和未上传文件
5. 最后将未上传的文件上传到文件系统



## 示例
``` node 
szzt upload 
```

## 需求背景

当项目需要上架至IRS平台,然后项目的静态资源过于庞大,需要迁移至文件系统。
::: warning

用该指令完成迁移功能后,如果是上传的文件名称添加了文件夹前缀，那么还需要调整静态资源引用的函数。
可以在imgPath上批量处理 '/'于'-'的转化

``` vue

<template>
<!-- 调整前  -->
<img :src="imgPath('home/icon-add.png')" />
<!-- 调整后 -->
</template>
<img :src="imgPath('home-icon-add.png')" />



```

:::

## 实现原理

1. 扫描项目文件路径/public/static/images下的文件夹。
2. 用户以勾选的交互形式选择需要上传的文件夹
3. 再与输入的文件系统ID中的文件列表进行比对
4. 通过对比结果得出已上传文件和未上传文件
5. 避免出现文件命名一致的情况，可以选择对文件进行重命名操作，每个文件前都添加文件夹的前缀。

比如文件名称为icon-add.png,文件夹为home,那么重命名后的文件名称为home-icon-add.png

6. 将文件上传至文件系统
7. 等全部上传完毕后删除临时文件夹
