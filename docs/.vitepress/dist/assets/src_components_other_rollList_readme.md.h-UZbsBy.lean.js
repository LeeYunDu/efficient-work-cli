import{b as ss,c as is}from"./chunks/theme.ez0IFtgy.js";import{l as as,s as x,e as n,J as ns,a as O,b as ls,o as hs,I as ts,p as o,u as b,F as L,X as N,q as k,T as c,n as ks,m as u,at as $,O as ps,R as es,aK as R}from"./chunks/framework.e7PBZpwc.js";const Es={key:0,class:"no-data"},rs=["innerHTML"],ds=as({__name:"rollList",props:{data:{type:Array,default:()=>[]},scroll:{type:Boolean,default:!0},height:{type:Number||String,default:"100%"},options:{type:Object,default:()=>({step:.2,limitMoveNum:2,hoverStop:!0,direction:1,openWatch:!0,singleHeight:0,singleWidth:0,waitTime:1e3})}},emits:["ScrollEnd"],setup(C,{emit:D}){let l=C;const g=x(),A=x(),S=x(),z=n(()=>ss(Number(l.height))?l.height:is(l.height)?l.height+"px":l.height);let B=n(()=>l.data||[]),h=n(()=>Object.assign({},V,l.options)),V=ns({step:1,limitMoveNum:5,hoverStop:!0,direction:1,openTouch:!0,singleHeight:0,singleWidth:0,waitTime:1e3,switchOffset:30,autoPlay:!0,navigation:!1,switchSingleStep:134,switchDelay:400,switchDisabledClass:"disabled",isSingleRemUnit:!1}),s=O({xPos:0,yPos:0,delay:0,copyHtml:"",height:0,ease:"ease-in",reqFrame:null,isHover:!1,width:0,realBoxWidth:0,realBoxHeight:0,singleWaitTime:null,refresh:!0});const y=D;let v=n(()=>h.value.autoPlay),F=n(()=>h.value.direction>1);const w=n(()=>F.value?{float:"left",overflow:"hidden"}:{overflow:"hidden"}),I=n(()=>F.value?{transform:`translate(${s.value.xPos}px,${s.value.yPos}px)`,transition:`all ${s.value.ease} ${s.value.delay}ms`,overflow:"hidden",width:s.value.realBoxWidth}:{transform:`translate(${s.value.xPos}px,${s.value.yPos}px)`,transition:`all ${s.value.ease} ${s.value.delay}ms`,overflow:"hidden"}),T=n(()=>l.scroll),q=n(()=>h.value.isSingleRemUnit?parseInt(window.getComputedStyle(document.documentElement,null).fontSize):1),f=n(()=>h.value.singleWidth*q.value),m=n(()=>h.value.singleHeight*q.value),_=n(()=>h.value.hoverStop&&v.value&&T.value),E=n(()=>{let i,a=h.value.step;return F.value?i=f.value:i=m.value,i>0&&i%a>0&&console.error("如果设置了单步滚动,step需是单步大小的约数,否则无法保证单步滚动结束的位置是否准确。~~~~~"),a});ls(()=>l.data,(i,a)=>{W(),Z(i,a)||U()});function P(){ks(()=>{var a,t,d,H;const{switchDelay:i}=h.value;if(W(),s.value.copyHtml="",F.value){s.value.height=((a=g.value)==null?void 0:a.offsetHeight)||0,s.value.width=((t=g.value)==null?void 0:t.offsetWidth)||0;let e=((d=A.value)==null?void 0:d.offsetWidth)||0;v.value&&(e=e*2+1),s.value.realBoxWidth=e+"px"}if(v.value)s.value.ease="ease-in",s.value.delay=0;else{s.value.ease="linear",s.value.delay=i;return}if(T.value){let e;e&&clearTimeout(e),s.value.copyHtml=(H=A.value)==null?void 0:H.innerHTML,e=setTimeout(()=>{var M;s.value.realBoxHeight=(M=S.value)==null?void 0:M.offsetHeight,p()},0)}else r(),s.value.yPos=0,s.value.xPos=0})}function U(){r(),P()}function W(){B.value.length>100&&console.warn(`数据达到了${B.value.length}条有点多哦~,可能会造成部分老旧浏览器卡顿。`)}function r(){cancelAnimationFrame(s.value.reqFrame||"")}function p(){s.value.isHover||(r(),s.value.reqFrame=requestAnimationFrame(()=>{const i=s.value.realBoxHeight/2,a=typeof s.value.realBoxWidth=="string"?s.value.realBoxWidth.replace("px","")/2:s.value.realBoxWidth,{direction:t,waitTime:d}=h.value;switch(t){case 1:Math.abs(s.value.yPos)>=i&&(y("ScrollEnd"),s.value.yPos=0),s.value.yPos-=E.value;break;case 0:s.value.yPos>=0&&(y("ScrollEnd"),s.value.yPos=i*-1),s.value.yPos+=E.value;break;case 2:Math.abs(s.value.xPos)>=a&&(y("ScrollEnd"),s.value.xPos=0),s.value.xPos-=E.value;break;case 3:s.value.xPos>0&&(y("ScrollEnd"),s.value.xPos=a*-1),s.value.xPos+=E.value;break}s.value.singleWaitTime&&clearTimeout(s.value.singleWaitTime),m.value?Math.abs(s.value.yPos)%m.value<E.value?s.value.singleWaitTime=setTimeout(()=>{p()},d):p():f.value&&Math.abs(s.value.xPos)%f.value<E.value?s.value.singleWaitTime=setTimeout(()=>{p()},d):p()}))}function j(){_.value&&Q()}function J(){_.value&&Y()}function K(){}function X(){}function G(){}function Q(){s.value.isHover=!0,s.value.singleWaitTime&&clearTimeout(s.value.singleWaitTime),r()}function Y(){s.value.isHover=!1,p()}hs(()=>{setTimeout(()=>{P()},500)}),ts(()=>{r(),clearTimeout(s.value.singleWaitTime)});function Z(i,a){if(i===a)return!0;if(i.length!=a.length)return!1;for(var t=0;t<i.length;++t)if(i[t]!==a[t])return!1;return!0}return(i,a)=>(u(),o("div",{class:"roll-list-component",style:c({height:z.value})},[b(B).length==0?(u(),o("div",Es,[L(i.$slots,"empty",{},void 0,!0)])):N("",!0),k("div",{ref_key:"wrap",ref:g},[k("div",{ref_key:"realBox",ref:S,style:c(I.value),onMouseenter:j,onMouseleave:J,onTouchstart:K,onTouchmove:X,onTouchend:G},[k("div",{ref_key:"slotList",ref:A,style:c(w.value)},[L(i.$slots,"default",{},void 0,!0)],4),C.scroll?(u(),o("div",{key:0,style:c(w.value),innerHTML:b(s).copyHtml},null,12,rs)):N("",!0)],36)],512)],4))}}),gs=$(ds,[["__scopeId","data-v-2b89b393"]]),ys="_button_a3kf5_2",Fs={button:ys},cs=R("",7),os=k("div",null,"数据1",-1),us=k("div",null,"数据2",-1),Cs=k("div",null,"数据3",-1),Ds=k("div",null,"数据4",-1),As=k("div",null,"数据5",-1),Bs=R("",9),Ss=JSON.parse('{"title":"RollList","description":"","frontmatter":{},"headers":[],"relativePath":"src/components/other/rollList/readme.md","filePath":"src/components/other/rollList/readme.md"}'),vs={name:"src/components/other/rollList/readme.md"},fs=Object.assign(vs,{setup(C){let D=O([{x1:"杭州市",y1:"1"},{x1:"温州市",y1:"2"},{x1:"金华市",y1:"3"},{x1:"昆明市",y1:"4"},{x1:"绍兴市",y1:"5"}]);return(l,g)=>(u(),o("div",null,[cs,ps(gs,{data:b(D),height:"100px",scroll:!0},{default:es(()=>[os,us,Cs,Ds,As]),_:1},8,["data"]),Bs]))}}),ms={$style:Fs},ws=$(fs,[["__cssModules",ms]]);export{Ss as __pageData,ws as default};
